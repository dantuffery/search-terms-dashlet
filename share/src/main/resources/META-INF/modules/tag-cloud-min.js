(function(){var b=YAHOO.util.Dom,a=YAHOO.util.Event;Ixxus.module.TagCloud=function(e){Ixxus.module.TagCloud.superclass.constructor.call(this,"Ixxus.module.TagCloud",e,["button","container"]);return this};YAHOO.extend(Ixxus.module.TagCloud,Ixxus.component.Base,{options:{results:[],tagUri:"",tagCloudContainerId:"",noTagsFoundMessage:"No tags found.",displayCount:false,tagUriSuffix:""},minFontSize:1,maxFontSize:3,fontSizeUnits:"em",setOptions:function d(e){this.options=YAHOO.lang.merge(this.options,e)},generateTagCloud:function c(){var o=this,h,r,n,u=this.options.results,t=b.get(this.options.tagCloudContainerId),v,l,k,q,j,e,p,g,s;if(u.length===0){h='<label class="no-tags-msg">'+this.options.noTagsFoundMessage+"</label>";t.innerHTML=h;return}q=function n(){var w=0,i;for(g=0,s=u.length;g<s;g++){i=u[g].count;if(parseInt(i,10)>parseInt(w,10)){w=i}}return w};j=function r(){var w=parseInt(1000000,10),i;for(g=0,s=u.length;g<s;g++){i=parseInt(u[g].count,10);if(i<w){w=i}}return w};e=function f(i){var w=(i-r)/(n-r);return w};p=function m(i,x){var w=(o.minFontSize+(o.maxFontSize-o.minFontSize)*e(x)).toFixed(2);return w};r=j();n=q();h="<ul>";for(g=0,s=u.length;g<s;g++){v=u[g].label;l=u[g].count;k=this.options.displayCount===true?"("+l+")":"";h+='<li class="tag"><a href="'+this.options.tagUri+v+this.options.tagUriSuffix+'" class="theme-color-1" style="font-size: '+p(v,l)+this.fontSizeUnits+'">'+v+k+"</a></li>\n"}h+="</ul>";t.innerHTML=h;Alfresco.util.Anim.fadeIn(t)}})})();